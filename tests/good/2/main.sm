(module Main imports (StdLib))

# this is a comment, it spans until the end of this line

(vars (
  (let two 2)
  (let three 3)
  (let cond (< two three))
  (let z 0)
  (let zz 0)
  (let x 1)
  (let shouldContinue tt)
))

(functions (
  (function not (bool)
    (if bool ff tt))

  # no idea what this function does
  (function foo ()
    (begin
      (let a 23)
      (while shouldContinue
        (begin
          (let one 1)
          (let y (+ one x))
          (set! x y)
          (let eq (== x a))
          (set! shouldContinue (not eq))
        )
      )
      x
    )
  )

  # if the first argument is smaller than the second argument
  # then consider the difference between them
  # and that many times multiply the second argument
  # that is what the `z` will be set to
  (function bar (xx y)
    (begin
      (set! z 0) # resets the `z` to 0 each time `foo` is called
      (set! zz xx)
      (while (< z y)
        (begin
          (set! z (+ y z))
          (let one 1)
          (set! zz (+ zz one))
        )
      )
      z # will be equal to `y`
    )
  )

  (function simpler ()
    (let a 23)
  )

  (function simple ()
    (begin
      (let a 23)
      a
    )
  )

  (function main ()
    (begin
      (let a 23)
      (let b 42)
      (let c (bar a b)) # c = b = 42
      (let d (foo)) # 23
      (+ c d)
    )
  )

  # result is `y * y`
  (function square (y)
    (begin
        (set! x 0) # resets the `x` to 0
        (set! z 0) # resets the `z` to 0

        # (let z 0) # again, should this be legal?

        (while (< x y) # x=0 < y
          (begin
            (let one 1)
            (set! z (+ y z)) # z = y + z
            (set! x (+ x one)) # x = x + 1
          )
        )
        z
    )
  )
))
# so can there be something?
# can I end the file without a newline?